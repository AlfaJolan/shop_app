{% extends "base.html" %}
{% block content %}
<div class="container my-4">
  <h2 class="mb-4">üóÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>

  <!-- –ü–æ–∏—Å–∫ –∏ –∫–Ω–æ–ø–∫–∞ -->
  <form method="get" action="/admin/catalog/categories" class="row g-2 mb-4 align-items-center">
    <div class="col-12 col-md-6">
      <input name="q" value="{{ q }}" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é / slug">
    </div>
    <div class="col-6 col-md-auto">
      <button class="btn btn-primary w-100">–ù–∞–π—Ç–∏</button>
    </div>
    <div class="col-6 col-md-auto ms-md-auto">
      <a href="/admin/catalog/categories/new" class="btn btn-success w-100">+ –ù–æ–≤–∞—è</a>
    </div>
  </form>

  <!-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –ü–ö -->
  <div class="table-responsive d-none d-sm-block">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
          <th>Slug</th>
          <th class="text-end">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        {% for c in categories %}
        <tr>
          <td>{{ c.id }}</td>
          <td>{{ c.name }}</td>
          <td><span class="text-muted">{{ c.slug }}</span></td>
          <td class="text-end">
            <a href="/admin/catalog/categories/{{ c.id }}/edit" class="btn btn-sm btn-outline-primary me-1">‚úèÔ∏è</a>
            <form method="post" action="/admin/catalog/categories/{{ c.id }}/delete"
                  class="d-inline"
                  onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é?');">
              <button class="btn btn-sm btn-outline-danger">üóë –£–¥–∞–ª–∏—Ç—å</button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="4" class="text-center text-muted py-3">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- –ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥ -->
  <div class="d-sm-none">
    <div class="list-group">
      {% for c in categories %}
        <div class="list-group-item">
          <div class="d-flex justify-content-between">
            <div>
              <div class="fw-semibold">{{ c.name }}</div>
              <div class="small text-muted">Slug: {{ c.slug }}</div>
            </div>
            <div class="d-flex flex-column gap-1 ms-2">
              <a href="/admin/catalog/categories/{{ c.id }}/edit" class="btn btn-sm btn-outline-primary">–†–µ–¥.</a>
              <form method="post" action="/admin/catalog/categories/{{ c.id }}/delete"
                    onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é?');">
                <button class="btn btn-sm btn-outline-danger w-100">–£–¥–∞–ª.</button>
              </form>
            </div>
          </div>
        </div>
      {% else %}
        <div class="list-group-item text-center text-muted">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
